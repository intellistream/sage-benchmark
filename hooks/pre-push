#!/bin/bash
# Pre-push hook for sage-benchmark
# Runs tests before allowing push

set -e

echo "ğŸš€ Running pre-push checks..."

# Check if pytest is installed
if ! command -v pytest &> /dev/null; then
    echo "âš ï¸  pytest not found, skipping tests"
    echo "Install dev dependencies: pip install -e \".[dev]\""
else
    echo "ğŸ§ª Running tests..."
    if ! pytest; then
        echo "âŒ Tests failed. Fix issues before pushing."
        exit 1
    fi
    echo "âœ… All tests passed!"
fi

echo "âœ… All pre-push checks passed!"
